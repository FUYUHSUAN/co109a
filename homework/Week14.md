# 組譯器(無符號版)
>* 需要寫出自己的Makefile來測試(我是參考老師的來做)
>* 接者要寫出asm.cpp,dasm.c,和vm.c (我也是參考老師的，以下我會對我理解及改的部分說明)
>* 無符號版主要是對MaxL.asm,PongL.asm,RecL.asm來做測試
>* 好習慣，有開檔就要關檔

### 首先先說明測試的步驟(如果寫完asm.cpp,dasm.c,vw.c)
>* 一開始要輸入指令:make,以建立執行檔
>* 如果要清除則需要使用指令make clean
>* 接者只需要做:接者只需要做:例如"./asm sum"來執行就可以了
>* 看完這兩周的習題後，我覺得我的程式能力還有極大的進步空間
>* ./dasm sum.bin ==> 整個返組譯
>* 結尾是bin是二進位的程式

### 程式碼都在我資料夾06裡面
>* 這些程式碼雖然都跟老師的很像，但是我卻是去把它大致上全部理解過，才整理的
>* 在程式碼中我都標示了我理解的地方
>* 我原本想說想將c++中的map轉成c裡面的struct但是還是有些不太懂而沒成功
>* 以下我列幾項我這次看過老師的程式碼才學習到的部分，其他都註解在我的程式碼中
其中dasm.c裡面的#define是都可以刪除的
```
#include <assert.h> //用於程式除錯
```
```
sprintf是印到字串裡面
例如:sprintf(op, "%c", AM);就是%c得到的值AM然後放到op中
```
```
assert(0); //用於除錯用，assert(0)==>表示直接false
```
```
fopen ==> 開檔案
fread ==> 讀檔
fclose ==>關檔
```
```
#define DEBUG(...) printf(__VA_ARGS__) //"..."不定參數(變動個數參數)，會被鋪平至printf中，好處是可以傳會任何數量的參數
#define BIT(i) (0x0001<<(i)) //1左移8位元，第i個位置為1的樣式
```
### 測試結果
* 使用make出現結果表示成功
```
g++ -std=c++11 asm.cpp -o asm
gcc -std=c99 vm.c -o vm
gcc -std=c99 dasm.c -o dasm
```
* 使用../asm MaxL.asm (==>為甚麼要..，因為我的asm.cpp,vm.c,dasm.c是在上一層的位置)
```
============= PASS1 ================
00:@R0
01:D=M
02:@R1
03:D=D-M
04:@OUTPUT_FIRST    
05:D;JGT
06:@R1
07:D=M
08:@OUTPUT_D        
09:0;JMP
10:(OUTPUT_FIRST)
symbol:OUTPUT_FIRST address=10
10:@R0
11:D=M
12:(OUTPUT_D)
symbol:OUTPUT_D address=12
12:@R2
13:M=D
14:(INFINITE_LOOP)
symbol:INFINITE_LOOP address=14
14:@INFINITE_LOOP
15:0;JMP
============= PASS2 ================
00: @R0                  0000000000000000 0000
01: D=M                  1111110000010000 fc10
02: @R1                  0000000000000001 0001
03: D=D-M                1111010011010000 f4d0
04: @OUTPUT_FIRST        0000000000001010 000a
05: D;JGT                1110001100000001 e301
06: @R1                  0000000000000001 0001
07: D=M                  1111110000010000 fc10
08: @OUTPUT_D            0000000000001100 000c
09: 0;JMP                1110101010000111 ea87
(OUTPUT_FIRST)
0A: @R0                  0000000000000000 0000
0B: D=M                  1111110000010000 fc10
(OUTPUT_D)
0C: @R2                  0000000000000010 0002
0D: M=D                  1110001100001000 e308
(INFINITE_LOOP)
0E: @INFINITE_LOOP       0000000000001110 000e
0F: 0;JMP                1110101010000111 ea87
```
* 使用../dasm MaxL.asm
```
@12079
@21536
@26984
@8307 
@26982
@25964
@26912
@8307
@24944
@29810
@28448
@8294
@30583
@11895
@24942
@25710
@29746
@29797
@26994
@11891
@29295
@3431
@12042
@8239
@28257
@8292
@26740
@8293
@28514
@27503
@8736
@26708
@8293
@27717
@28005
@28261
@29556
@28448
@8294
@28483
@28781
@29813
@28265
@8295
@31059
@29811
@28005
@8819
@2573
@12079
@25120
@8313
@26958
@24947
@8302
@28257
@8292
@25427
@28520
@27491
@28261
@8236
@18765
@8276
@29264
@29541
@11891
@2573
@12079
@17952
@27753
@8293
@24942
@25965
@8250
@29296
@27247
@25445
@29556
@12335
@12086
@24941
@12152
@24909
@19576
@24878
@28019
@2573
@2573
@12079
@21280
@28025
@28514
@11628
@25964
@29555
@30240
@29285
@26995
@28271
@28448
@8294
@26740
@8293
@24909
@11896
@29537
@8301
@29296
@26479
@24946
@11885
@2573
@2573
@12352
@2573
@15684
@3405
@16394
@3377
@17418
@17469
@19757
@2573
@12608
@3376
@17418
@19003
@21575
@2573
@12608
@2573
@15684
@3405
@16394
@12849
@2573
@15152
@19786
@3408
@16394
@3376
@17418
@19773
@2573
@12864
@2573
@15693
@3396
@16394
@13361
@2573
@15152
@19786
@3408
```

* 使用../vm MaxL.asm
```
PC=0000 I=2F2F A=2F2F D=%04 m[A]=0000=0000
PC=0001 I=5420 A=5420 D=%04 m[A]=0000=0000
PC=0002 I=6968 A=6968 D=%04 m[A]=0000=0000
PC=0003 I=2073 A=2073 D=%04 m[A]=0000=0000
PC=0004 I=6966 A=6966 D=%04 m[A]=0000=0000
PC=0005 I=656C A=656C D=%04 m[A]=0000=0000
PC=0006 I=6920 A=6920 D=%04 m[A]=0000=0000
PC=0007 I=2073 A=2073 D=%04 m[A]=0000=0000
PC=0008 I=6170 A=6170 D=%04 m[A]=0000=0000
PC=0009 I=7472 A=7472 D=%04 m[A]=0000=0000
PC=000A I=6F20 A=6F20 D=%04 m[A]=0000=0000
PC=000B I=2066 A=2066 D=%04 m[A]=0000=0000
PC=000C I=7777 A=7777 D=%04 m[A]=0000=0000
PC=000D I=2E77 A=2E77 D=%04 m[A]=0000=0000
PC=000E I=616E A=616E D=%04 m[A]=0000=0000
PC=000F I=646E A=646E D=%04 m[A]=0000=0000
PC=0010 I=7432 A=7432 D=%04 m[A]=0000=0000
PC=0011 I=7465 A=7465 D=%04 m[A]=0000=0000
PC=0012 I=6972 A=6972 D=%04 m[A]=0000=0000
PC=0013 I=2E73 A=2E73 D=%04 m[A]=0000=0000
PC=0014 I=726F A=726F D=%04 m[A]=0000=0000
PC=0015 I=0D67 A=0D67 D=%04 m[A]=0000=0000
PC=0016 I=2F0A A=2F0A D=%04 m[A]=0000=0000
PC=0017 I=202F A=202F D=%04 m[A]=0000=0000
PC=0018 I=6E61 A=6E61 D=%04 m[A]=0000=0000
PC=0019 I=2064 A=2064 D=%04 m[A]=0000=0000
PC=001A I=6874 A=6874 D=%04 m[A]=0000=0000
PC=001B I=2065 A=2065 D=%04 m[A]=0000=0000
PC=001C I=6F62 A=6F62 D=%04 m[A]=0000=0000
PC=001D I=6B6F A=6B6F D=%04 m[A]=0000=0000
PC=001E I=2220 A=2220 D=%04 m[A]=0000=0000
PC=001F I=6854 A=6854 D=%04 m[A]=0000=0000
PC=0020 I=2065 A=2065 D=%04 m[A]=0000=0000
PC=0021 I=6C45 A=6C45 D=%04 m[A]=0000=0000
PC=0022 I=6D65 A=6D65 D=%04 m[A]=0000=0000
PC=0023 I=6E65 A=6E65 D=%04 m[A]=0000=0000
PC=0024 I=7374 A=7374 D=%04 m[A]=0000=0000
PC=0025 I=6F20 A=6F20 D=%04 m[A]=0000=0000
PC=0026 I=2066 A=2066 D=%04 m[A]=0000=0000
PC=0027 I=6F43 A=6F43 D=%04 m[A]=0000=0000
PC=0028 I=706D A=706D D=%04 m[A]=0000=0000
PC=0029 I=7475 A=7475 D=%04 m[A]=0000=0000
PC=002A I=6E69 A=6E69 D=%04 m[A]=0000=0000
PC=002B I=2067 A=2067 D=%04 m[A]=0000=0000
PC=002C I=7953 A=7953 D=%04 m[A]=0000=0000
PC=002D I=7473 A=7473 D=%04 m[A]=0000=0000
PC=002E I=6D65 A=6D65 D=%04 m[A]=0000=0000
PC=002F I=2273 A=2273 D=%04 m[A]=0000=0000
PC=0030 I=0A0D A=0A0D D=%04 m[A]=0000=0000
PC=0031 I=2F2F A=2F2F D=%04 m[A]=0000=0000
PC=0032 I=6220 A=6220 D=%04 m[A]=0000=0000
PC=0033 I=2079 A=2079 D=%04 m[A]=0000=0000
PC=0034 I=694E A=694E D=%04 m[A]=0000=0000
PC=0035 I=6173 A=6173 D=%04 m[A]=0000=0000
PC=0036 I=206E A=206E D=%04 m[A]=0000=0000
PC=0037 I=6E61 A=6E61 D=%04 m[A]=0000=0000
PC=0038 I=2064 A=2064 D=%04 m[A]=0000=0000
PC=0039 I=6353 A=6353 D=%04 m[A]=0000=0000
PC=003A I=6F68 A=6F68 D=%04 m[A]=0000=0000
PC=003B I=6B63 A=6B63 D=%04 m[A]=0000=0000
PC=003C I=6E65 A=6E65 D=%04 m[A]=0000=0000
PC=003D I=202C A=202C D=%04 m[A]=0000=0000
PC=003E I=494D A=494D D=%04 m[A]=0000=0000
PC=003F I=2054 A=2054 D=%04 m[A]=0000=0000
PC=0040 I=7250 A=7250 D=%04 m[A]=0000=0000
PC=0041 I=7365 A=7365 D=%04 m[A]=0000=0000
PC=0042 I=2E73 A=2E73 D=%04 m[A]=0000=0000
PC=0043 I=0A0D A=0A0D D=%04 m[A]=0000=0000
PC=0044 I=2F2F A=2F2F D=%04 m[A]=0000=0000
PC=0045 I=4620 A=4620 D=%04 m[A]=0000=0000
PC=0046 I=6C69 A=6C69 D=%04 m[A]=0000=0000
PC=0047 I=2065 A=2065 D=%04 m[A]=0000=0000
PC=0048 I=616E A=616E D=%04 m[A]=0000=0000
PC=0049 I=656D A=656D D=%04 m[A]=0000=0000
PC=004A I=203A A=203A D=%04 m[A]=0000=0000
PC=004B I=7270 A=7270 D=%04 m[A]=0000=0000
PC=004C I=6A6F A=6A6F D=%04 m[A]=0000=0000
PC=004D I=6365 A=6365 D=%04 m[A]=0000=0000
PC=004E I=7374 A=7374 D=%04 m[A]=0000=0000
PC=004F I=302F A=302F D=%04 m[A]=0000=0000
PC=0050 I=2F36 A=2F36 D=%04 m[A]=0000=0000
PC=0051 I=616D A=616D D=%04 m[A]=0000=0000
PC=0052 I=2F78 A=2F78 D=%04 m[A]=0000=0000
PC=0053 I=614D A=614D D=%04 m[A]=0000=0000
PC=0054 I=4C78 A=4C78 D=%04 m[A]=0000=0000
PC=0055 I=612E A=612E D=%04 m[A]=0000=0000
PC=0056 I=6D73 A=6D73 D=%04 m[A]=0000=0000
PC=0057 I=0A0D A=0A0D D=%04 m[A]=0000=0000
PC=0058 I=0A0D A=0A0D D=%04 m[A]=0000=0000
PC=0059 I=2F2F A=2F2F D=%04 m[A]=0000=0000
PC=005A I=5320 A=5320 D=%04 m[A]=0000=0000
PC=005B I=6D79 A=6D79 D=%04 m[A]=0000=0000
PC=005C I=6F62 A=6F62 D=%04 m[A]=0000=0000
PC=005D I=2D6C A=2D6C D=%04 m[A]=0000=0000
PC=005E I=656C A=656C D=%04 m[A]=0000=0000
PC=005F I=7373 A=7373 D=%04 m[A]=0000=0000
PC=0060 I=7620 A=7620 D=%04 m[A]=0000=0000
PC=0061 I=7265 A=7265 D=%04 m[A]=0000=0000
PC=0062 I=6973 A=6973 D=%04 m[A]=0000=0000
PC=0063 I=6E6F A=6E6F D=%04 m[A]=0000=0000
PC=0064 I=6F20 A=6F20 D=%04 m[A]=0000=0000
PC=0065 I=2066 A=2066 D=%04 m[A]=0000=0000
PC=0066 I=6874 A=6874 D=%04 m[A]=0000=0000
PC=0067 I=2065 A=2065 D=%04 m[A]=0000=0000
PC=0068 I=614D A=614D D=%04 m[A]=0000=0000
PC=0069 I=2E78 A=2E78 D=%04 m[A]=0000=0000
PC=006A I=7361 A=7361 D=%04 m[A]=0000=0000
PC=006B I=206D A=206D D=%04 m[A]=0000=0000
PC=006C I=7270 A=7270 D=%04 m[A]=0000=0000
PC=006D I=676F A=676F D=%04 m[A]=0000=0000
PC=006E I=6172 A=6172 D=%04 m[A]=0000=0000
PC=006F I=2E6D A=2E6D D=%04 m[A]=0000=0000
PC=0070 I=0A0D A=0A0D D=%04 m[A]=0000=0000
PC=0071 I=0A0D A=0A0D D=%04 m[A]=0000=0000
PC=0072 I=3040 A=3040 D=%04 m[A]=0000=0000
PC=0073 I=0A0D A=0A0D D=%04 m[A]=0000=0000
PC=0074 I=3D44 A=3D44 D=%04 m[A]=0000=0000
PC=0075 I=0D4D A=0D4D D=%04 m[A]=0000=0000
PC=0076 I=400A A=400A D=%04 m[A]=0000=0000
PC=0077 I=0D31 A=0D31 D=%04 m[A]=0000=0000
PC=0078 I=440A A=440A D=%04 m[A]=0000=0000
PC=0079 I=443D A=443D D=%04 m[A]=0000=0000
PC=007A I=4D2D A=4D2D D=%04 m[A]=0000=0000
PC=007B I=0A0D A=0A0D D=%04 m[A]=0000=0000
PC=007C I=3140 A=3140 D=%04 m[A]=0000=0000
PC=007D I=0D30 A=0D30 D=%04 m[A]=0000=0000
PC=007E I=440A A=440A D=%04 m[A]=0000=0000
PC=007F I=4A3B A=4A3B D=%04 m[A]=0000=0000
PC=0080 I=5447 A=5447 D=%04 m[A]=0000=0000
PC=0081 I=0A0D A=0A0D D=%04 m[A]=0000=0000
PC=0082 I=3140 A=3140 D=%04 m[A]=0000=0000
PC=0083 I=0A0D A=0A0D D=%04 m[A]=0000=0000
PC=0084 I=3D44 A=3D44 D=%04 m[A]=0000=0000
PC=0085 I=0D4D A=0D4D D=%04 m[A]=0000=0000
PC=0086 I=400A A=400A D=%04 m[A]=0000=0000
PC=0087 I=3231 A=3231 D=%04 m[A]=0000=0000
PC=0088 I=0A0D A=0A0D D=%04 m[A]=0000=0000
PC=0089 I=3B30 A=3B30 D=%04 m[A]=0000=0000
PC=008A I=4D4A A=4D4A D=%04 m[A]=0000=0000
PC=008B I=0D50 A=0D50 D=%04 m[A]=0000=0000
PC=008C I=400A A=400A D=%04 m[A]=0000=0000
PC=008D I=0D30 A=0D30 D=%04 m[A]=0000=0000
PC=008E I=440A A=440A D=%04 m[A]=0000=0000
PC=008F I=4D3D A=4D3D D=%04 m[A]=0000=0000
PC=0090 I=0A0D A=0A0D D=%04 m[A]=0000=0000
PC=0091 I=3240 A=3240 D=%04 m[A]=0000=0000
PC=0092 I=0A0D A=0A0D D=%04 m[A]=0000=0000
PC=0093 I=3D4D A=3D4D D=%04 m[A]=0000=0000
PC=0094 I=0D44 A=0D44 D=%04 m[A]=0000=0000
PC=0095 I=400A A=400A D=%04 m[A]=0000=0000
PC=0096 I=3431 A=3431 D=%04 m[A]=0000=0000
PC=0097 I=0A0D A=0A0D D=%04 m[A]=0000=0000
PC=0098 I=3B30 A=3B30 D=%04 m[A]=0000=0000
PC=0099 I=4D4A A=4D4A D=%04 m[A]=0000=0000
PC=009A I=0D50 A=0D50 D=%04 m[A]=0000=0000
exit program !
```

* ../asm PongL(結果太多，我只顯示部分的)
```
============= PASS1 ================
00:@256
01:D=A
02:@SP
03:M=D
04:@133
05:0;JMP
06:@R15
07:M=D
08:@SP
09:AM=M-1
10:D=M
11:A=A-1
12:D=M-D
13:M=0
14:@END_EQ
15:D;JNE
16:@SP
17:A=M-1
18:M=-1
19:(END_EQ)
symbol:END_EQ address=19
19:@R15
20:A=M
21:0;JMP
22:@R15
23:M=D
24:@SP
25:AM=M-1
26:D=M
27:A=A-1
28:D=M-D
29:M=0
30:@END_GT
31:D;JLE
32:@SP
33:A=M-1
34:M=-1
35:(END_GT)
symbol:END_GT address=35
35:@R15
36:A=M
37:0;JMP
38:@R15
39:M=D
40:@SP
41:AM=M-1
42:D=M
43:A=A-1
44:D=M-D
45:M=0
46:@END_LT
47:D;JGE
48:@SP
49:A=M-1
50:M=-1
51:(END_LT)
symbol:END_LT address=51
51:@R15
52:A=M
53:0;JMP
54:@5
55:D=A
56:@LCL
57:A=M-D
58:D=M
59:@R13
60:M=D
61:@SP
62:AM=M-1
63:D=M
64:@ARG
65:A=M
66:M=D
67:D=A
68:@SP
69:M=D+1
70:@LCL
71:D=M
72:@R14
73:AM=D-1
74:D=M
75:@THAT
76:M=D
77:@R14
78:AM=M-1
79:D=M
80:@THIS
81:M=D
82:@R14
83:AM=M-1
84:D=M
85:@ARG
86:M=D
87:@R14
88:AM=M-1
89:D=M
90:@LCL
91:M=D
92:@R13
93:A=M
94:0;JMP
95:@SP
96:A=M
97:M=D
98:@LCL
99:D=M
100:@SP
101:AM=M+1
102:M=D
103:@ARG
104:D=M
105:@SP
106:AM=M+1
107:M=D
108:@THIS
109:D=M
110:@SP
111:AM=M+1
112:M=D
113:@THAT
114:D=M
115:@SP
116:AM=M+1
117:M=D
118:@4
119:D=A
120:@R13
121:D=D+M
122:@SP
123:D=M-D
124:@ARG
125:M=D
126:@SP
127:MD=M+1
128:@LCL
129:M=D
130:@R14
131:A=M
132:0;JMP
133:@0
134:D=A
135:@R13
136:M=D
137:@sys.init
138:D=A
139:@R14
140:M=D
141:@RET_ADDRESS_CALL0
142:D=A
143:@95
144:0;JMP
145:(RET_ADDRESS_CALL0)
symbol:RET_ADDRESS_CALL0 address=145
145:(ball.new)
symbol:ball.new address=145
145:@15
146:D=A
147:@SP
148:AM=M+1
149:A=A-1
150:M=D
151:@1
152:D=A
153:@R13
154:M=D
155:@memory.alloc
156:D=A
157:@R14
158:M=D
159:@RET_ADDRESS_CALL1
160:D=A
161:@95
162:0;JMP
163:(RET_ADDRESS_CALL1)
symbol:RET_ADDRESS_CALL1 address=163
163:@SP
164:AM=M-1
165:D=M
166:@THIS
167:M=D
168:@ARG
169:A=M
170:D=M
171:@SP
172:AM=M+1
173:A=A-1
174:M=D
175:@SP
176:AM=M-1
177:D=M
178:@THIS
179:A=M
180:M=D
181:@ARG
182:A=M+1
183:D=M
184:@SP
185:AM=M+1
186:A=A-1
187:M=D
188:@SP
189:AM=M-1
190:D=M
191:@THIS
192:A=M+1
193:M=D
194:@ARG
195:A=M+1
196:A=A+1
197:D=M
198:@SP
199:AM=M+1
200:A=A-1
201:M=D
202:@THIS
203:D=M
204:@10
205:D=D+A
206:@R13
207:M=D
208:@SP
209:AM=M-1
210:D=M
211:@R13
212:A=M
213:M=D
214:@ARG
215:D=M
216:@3
217:A=D+A
218:D=M
219:@SP
220:AM=M+1
221:A=A-1
222:M=D
223:@6
224:D=A
225:@SP
226:AM=M+1
227:A=A-1
228:M=D
229:@SP
230:AM=M-1
231:D=M
232:A=A-1
233:M=M-D
234:@THIS
235:D=M
236:@11
237:D=D+A
238:@R13
239:M=D
240:@SP
241:AM=M-1
242:D=M
243:@R13
244:A=M
245:M=D
246:@ARG
247:D=M
248:@4
249:A=D+A
250:D=M
251:@SP
252:AM=M+1
253:A=A-1
254:M=D
255:@THIS
256:D=M
257:@12
258:D=D+A
259:@R13
260:M=D
261:@SP
262:AM=M-1
263:D=M
264:@R13
265:A=M
266:M=D
267:@ARG
268:D=M
269:@5
270:A=D+A
271:D=M
272:@SP
273:AM=M+1
274:A=A-1
275:M=D
276:@6
277:D=A
278:@SP
279:AM=M+1
280:A=A-1
281:M=D
282:@SP
283:AM=M-1
284:D=M
285:A=A-1
286:M=M-D
287:@THIS
288:D=M
289:@13
290:D=D+A
291:@R13
292:M=D
293:@SP
294:AM=M-1
295:D=M
296:@R13
297:A=M
298:M=D
299:@SP
300:M=M+1
301:A=M-1
302:M=0
303:@THIS
304:D=M
305:@14
306:D=D+A
307:@R13
308:M=D
309:@SP
310:AM=M-1
311:D=M
312:@R13
313:A=M
314:M=D
315:@THIS
316:D=M
317:@SP
318:AM=M+1
319:A=A-1
320:M=D
321:@1
322:D=A
323:@R13
324:M=D
325:@ball.show
326:D=A
327:@R14
328:M=D
329:@RET_ADDRESS_CALL2
330:D=A
331:@95
332:0;JMP
333:(RET_ADDRESS_CALL2)
symbol:RET_ADDRESS_CALL2 address=333
333:@SP
334:AM=M-1
335:D=M
336:@R5
337:M=D
338:@THIS
339:D=M
340:@SP
341:AM=M+1
342:A=A-1
343:M=D
344:@54
345:0;JMP
346:(ball.dispose)
symbol:ball.dispose address=346
346:@ARG
347:A=M
348:D=M
349:@SP
350:AM=M+1
351:A=A-1
352:M=D
353:@SP
354:AM=M-1
355:D=M
356:@THIS
357:M=D
358:@THIS
359:D=M
360:@SP
361:AM=M+1
362:A=A-1
363:M=D
364:@1
365:D=A
366:@R13
367:M=D
368:@memory.dealloc
369:D=A
370:@R14
371:M=D
372:@RET_ADDRESS_CALL3
373:D=A
374:@95
375:0;JMP
376:(RET_ADDRESS_CALL3)
symbol:RET_ADDRESS_CALL3 address=376
376:@SP
377:AM=M-1
378:D=M
379:@R5
380:M=D
381:@SP
382:M=M+1
383:A=M-1
384:M=0
385:@54
386:0;JMP
387:(ball.show)
symbol:ball.show address=387
387:@ARG
388:A=M
389:D=M
390:@SP
391:AM=M+1
392:A=A-1
393:M=D
394:@SP
395:AM=M-1
396:D=M
397:@THIS
398:M=D
399:@SP
400:M=M+1
401:A=M-1
402:M=0
403:@SP
404:A=M-1
405:M=!M
406:@1
407:D=A
408:@R13
409:M=D
410:@screen.setcolor
411:D=A
412:@R14
413:M=D
414:@RET_ADDRESS_CALL4
415:D=A
416:@95
417:0;JMP
418:(RET_ADDRESS_CALL4)
symbol:RET_ADDRESS_CALL4 address=418
418:@SP
419:AM=M-1
420:D=M
421:@R5
422:M=D
423:@THIS
424:D=M
425:@SP
426:AM=M+1
427:A=A-1
428:M=D
429:@1
430:D=A
431:@R13
432:M=D
433:@ball.draw
434:D=A
435:@R14
436:M=D
437:@RET_ADDRESS_CALL5
438:D=A
439:@95
440:0;JMP
441:(RET_ADDRESS_CALL5)
symbol:RET_ADDRESS_CALL5 address=441
441:@SP
442:AM=M-1
443:D=M
444:@R5
445:M=D
446:@SP
447:M=M+1
448:A=M-1
449:M=0
450:@54
451:0;JMP
452:(ball.hide)
symbol:ball.hide address=452
452:@ARG
453:A=M
454:D=M
455:@SP
```

* 使用../vm PnogL.asm(我擷取一小部分，因為實在是太多了)
```
PC=058F I=0D31 A=0D31 D=%04 m[A]=0000=0000
PC=0590 I=440A A=440A D=%04 m[A]=0000=0000
PC=0591 I=4D3D A=4D3D D=%04 m[A]=0000=0000
PC=0592 I=0A0D A=0A0D D=%04 m[A]=0000=0000
PC=0593 I=3540 A=3540 D=%04 m[A]=0000=0000
PC=0594 I=0A0D A=0A0D D=%04 m[A]=0000=0000
PC=0595 I=3D4D A=3D4D D=%04 m[A]=0000=0000
PC=0596 I=0D44 A=0D44 D=%04 m[A]=0000=0000
PC=0597 I=400A A=400A D=%04 m[A]=0000=0000
PC=0598 I=0D33 A=0D33 D=%04 m[A]=0000=0000
PC=0599 I=440A A=440A D=%04 m[A]=0000=0000
PC=059A I=4D3D A=4D3D D=%04 m[A]=0000=0000
PC=059B I=0A0D A=0A0D D=%04 m[A]=0000=0000
PC=059C I=3040 A=3040 D=%04 m[A]=0000=0000
PC=059D I=0A0D A=0A0D D=%04 m[A]=0000=0000
PC=059E I=4D41 A=4D41 D=%04 m[A]=0000=0000
```

* ../asm RectL
```
============= PASS1 ================
00:@0
01:D=M
02:@23
03:D;JLE
04:@16
05:M=D
06:@16384
07:D=A
08:@17
09:M=D
10:@17
11:A=M
12:M=-1
13:@17
14:D=M
15:@32
16:D=D+A
17:@17
18:M=D
19:@16
20:MD=M-1
21:@10
22:D;JGT
23:@23
24:0;JMP
============= PASS2 ================
00: @0                   0000000000000000 0000
01: D=M                  1111110000010000 fc10
02: @23                  0000000000010111 0017
03: D;JLE                1110001100000110 e306
04: @16                  0000000000010000 0010
05: M=D                  1110001100001000 e308
06: @16384               0100000000000000 4000
07: D=A                  1110110000010000 ec10
08: @17                  0000000000010001 0011
09: M=D                  1110001100001000 e308
0A: @17                  0000000000010001 0011
0B: A=M                  1111110000100000 fc20
0C: M=-1                 1110111010001000 ee88
0D: @17                  0000000000010001 0011
0E: D=M                  1111110000010000 fc10
0F: @32                  0000000000100000 0020
10: D=D+A                1110000010010000 e090
11: @17                  0000000000010001 0011
12: M=D                  1110001100001000 e308
13: @16                  0000000000010000 0010
14: MD=M-1               1111110010011000 fc98
15: @10                  0000000000001010 000a
16: D;JGT                1110001100000001 e301
17: @23                  0000000000010111 0017
18: 0;JMP                1110101010000111 ea87
```

* ../dasm RectL.asm
```
@12079
@21536
@26984
@8307 
@26982
@25964
@26912
@8307
@24944
@29810
@28448
@8294
@30583
@11895
@24942
@25710
@29746
@29797
@26994
@11891
@29295
@3431
@12042
@8239
@28257
@8292
@26740
@8293
@28514
@27503
@8736
@26708
@8293
@27717
@28005
@28261
@29556
@28448
@8294
@28483
@28781
@29813
@28265
@8295
@31059
@29811
@28005
@8819
@2573
@12079
@25120
@8313
@26958
@24947
@8302
@28257
@8292
@25427
@28520
@27491
@28261
@8236
@18765
@8276
@29264
@29541
@11891
@2573
@12079
@17952
@27753
@8293
@24942
@25965
@8250
@29296
@27247
@25445
@29556
@12335
@12086
@25970
@29795
@21039
@25445
@19572
@24878
@28019
@2573
@2573
@12079
@21280
@28025
@28514
@11628
@25964
@29555
@30240
@29285
@26995
@28271
@28448
@8294
@26740
@8293
@25938
@29795
@24878
@28019
@28704
@28530
@29287
@28001
@3374
@3338
@16394
@3376
@17418
@19773
@2573
@12864
@3379
@17418
@19003
@17740
@2573
@12608
@3382
@19722
@17469
@2573
@12608
@13110
@13368
@2573
@15684
@3393
@16394
@14129
@2573
@15693
@3396
@16394
@14129
@2573
@15681
@3405
@19722
@11581
@3377
@16394
@14129
@2573
@15684
@3405
@16394
@12851
@2573
@15684
@11076
@3393
@16394
@14129
@2573
@15693
@3396
@16394
@13873
@2573
@17485
@12589
@2573
@12608
@3376
@17418
@19003
@21575
@2573
@12864
@3379
@12298
@19003
@20557
@2573
```
* ../vm RectL.asm
```
PC=0000 I=2F2F A=2F2F D=%04 m[A]=0000=0000
PC=0001 I=5420 A=5420 D=%04 m[A]=0000=0000
PC=0002 I=6968 A=6968 D=%04 m[A]=0000=0000
PC=0003 I=2073 A=2073 D=%04 m[A]=0000=0000
PC=0004 I=6966 A=6966 D=%04 m[A]=0000=0000
PC=0005 I=656C A=656C D=%04 m[A]=0000=0000
PC=0006 I=6920 A=6920 D=%04 m[A]=0000=0000
PC=0007 I=2073 A=2073 D=%04 m[A]=0000=0000
PC=0008 I=6170 A=6170 D=%04 m[A]=0000=0000
PC=0009 I=7472 A=7472 D=%04 m[A]=0000=0000
PC=000A I=6F20 A=6F20 D=%04 m[A]=0000=0000
PC=000B I=2066 A=2066 D=%04 m[A]=0000=0000
PC=000C I=7777 A=7777 D=%04 m[A]=0000=0000
PC=000D I=2E77 A=2E77 D=%04 m[A]=0000=0000
PC=000E I=616E A=616E D=%04 m[A]=0000=0000
PC=000F I=646E A=646E D=%04 m[A]=0000=0000
PC=0010 I=7432 A=7432 D=%04 m[A]=0000=0000
PC=0011 I=7465 A=7465 D=%04 m[A]=0000=0000
PC=0012 I=6972 A=6972 D=%04 m[A]=0000=0000
PC=0013 I=2E73 A=2E73 D=%04 m[A]=0000=0000
PC=0014 I=726F A=726F D=%04 m[A]=0000=0000
PC=0015 I=0D67 A=0D67 D=%04 m[A]=0000=0000
PC=0016 I=2F0A A=2F0A D=%04 m[A]=0000=0000
PC=0017 I=202F A=202F D=%04 m[A]=0000=0000
PC=0018 I=6E61 A=6E61 D=%04 m[A]=0000=0000
PC=0019 I=2064 A=2064 D=%04 m[A]=0000=0000
PC=001A I=6874 A=6874 D=%04 m[A]=0000=0000
PC=001B I=2065 A=2065 D=%04 m[A]=0000=0000
PC=001C I=6F62 A=6F62 D=%04 m[A]=0000=0000
PC=001D I=6B6F A=6B6F D=%04 m[A]=0000=0000
PC=001E I=2220 A=2220 D=%04 m[A]=0000=0000
PC=001F I=6854 A=6854 D=%04 m[A]=0000=0000
PC=0020 I=2065 A=2065 D=%04 m[A]=0000=0000
PC=0021 I=6C45 A=6C45 D=%04 m[A]=0000=0000
PC=0022 I=6D65 A=6D65 D=%04 m[A]=0000=0000
PC=0023 I=6E65 A=6E65 D=%04 m[A]=0000=0000
PC=0024 I=7374 A=7374 D=%04 m[A]=0000=0000
PC=0025 I=6F20 A=6F20 D=%04 m[A]=0000=0000
PC=0026 I=2066 A=2066 D=%04 m[A]=0000=0000
PC=0027 I=6F43 A=6F43 D=%04 m[A]=0000=0000
PC=0028 I=706D A=706D D=%04 m[A]=0000=0000
PC=0029 I=7475 A=7475 D=%04 m[A]=0000=0000
PC=002A I=6E69 A=6E69 D=%04 m[A]=0000=0000
PC=002B I=2067 A=2067 D=%04 m[A]=0000=0000
PC=002C I=7953 A=7953 D=%04 m[A]=0000=0000
PC=002D I=7473 A=7473 D=%04 m[A]=0000=0000
PC=002E I=6D65 A=6D65 D=%04 m[A]=0000=0000
PC=002F I=2273 A=2273 D=%04 m[A]=0000=0000
PC=0030 I=0A0D A=0A0D D=%04 m[A]=0000=0000
PC=0031 I=2F2F A=2F2F D=%04 m[A]=0000=0000
PC=0032 I=6220 A=6220 D=%04 m[A]=0000=0000
PC=0033 I=2079 A=2079 D=%04 m[A]=0000=0000
PC=0034 I=694E A=694E D=%04 m[A]=0000=0000
PC=0035 I=6173 A=6173 D=%04 m[A]=0000=0000
PC=0036 I=206E A=206E D=%04 m[A]=0000=0000
PC=0037 I=6E61 A=6E61 D=%04 m[A]=0000=0000
PC=0038 I=2064 A=2064 D=%04 m[A]=0000=0000
PC=0039 I=6353 A=6353 D=%04 m[A]=0000=0000
PC=003A I=6F68 A=6F68 D=%04 m[A]=0000=0000
PC=003B I=6B63 A=6B63 D=%04 m[A]=0000=0000
PC=003C I=6E65 A=6E65 D=%04 m[A]=0000=0000
PC=003D I=202C A=202C D=%04 m[A]=0000=0000
PC=003E I=494D A=494D D=%04 m[A]=0000=0000
PC=003F I=2054 A=2054 D=%04 m[A]=0000=0000
PC=0040 I=7250 A=7250 D=%04 m[A]=0000=0000
PC=0041 I=7365 A=7365 D=%04 m[A]=0000=0000
PC=0042 I=2E73 A=2E73 D=%04 m[A]=0000=0000
PC=0043 I=0A0D A=0A0D D=%04 m[A]=0000=0000
PC=0044 I=2F2F A=2F2F D=%04 m[A]=0000=0000
PC=0045 I=4620 A=4620 D=%04 m[A]=0000=0000
PC=0046 I=6C69 A=6C69 D=%04 m[A]=0000=0000
PC=0047 I=2065 A=2065 D=%04 m[A]=0000=0000
PC=0048 I=616E A=616E D=%04 m[A]=0000=0000
PC=0049 I=656D A=656D D=%04 m[A]=0000=0000
PC=004A I=203A A=203A D=%04 m[A]=0000=0000
PC=004B I=7270 A=7270 D=%04 m[A]=0000=0000
PC=004C I=6A6F A=6A6F D=%04 m[A]=0000=0000
PC=004D I=6365 A=6365 D=%04 m[A]=0000=0000
PC=004E I=7374 A=7374 D=%04 m[A]=0000=0000
PC=004F I=302F A=302F D=%04 m[A]=0000=0000
PC=0050 I=2F36 A=2F36 D=%04 m[A]=0000=0000
PC=0051 I=6572 A=6572 D=%04 m[A]=0000=0000
PC=0052 I=7463 A=7463 D=%04 m[A]=0000=0000
PC=0053 I=522F A=522F D=%04 m[A]=0000=0000
PC=0054 I=6365 A=6365 D=%04 m[A]=0000=0000
PC=0055 I=4C74 A=4C74 D=%04 m[A]=0000=0000
PC=0056 I=612E A=612E D=%04 m[A]=0000=0000
PC=0057 I=6D73 A=6D73 D=%04 m[A]=0000=0000
PC=0058 I=0A0D A=0A0D D=%04 m[A]=0000=0000
PC=0059 I=0A0D A=0A0D D=%04 m[A]=0000=0000
PC=005A I=2F2F A=2F2F D=%04 m[A]=0000=0000
PC=005B I=5320 A=5320 D=%04 m[A]=0000=0000
PC=005C I=6D79 A=6D79 D=%04 m[A]=0000=0000
PC=005D I=6F62 A=6F62 D=%04 m[A]=0000=0000
PC=005E I=2D6C A=2D6C D=%04 m[A]=0000=0000
PC=005F I=656C A=656C D=%04 m[A]=0000=0000
PC=0060 I=7373 A=7373 D=%04 m[A]=0000=0000
PC=0061 I=7620 A=7620 D=%04 m[A]=0000=0000
PC=0062 I=7265 A=7265 D=%04 m[A]=0000=0000
PC=0063 I=6973 A=6973 D=%04 m[A]=0000=0000
PC=0064 I=6E6F A=6E6F D=%04 m[A]=0000=0000
PC=0065 I=6F20 A=6F20 D=%04 m[A]=0000=0000
PC=0066 I=2066 A=2066 D=%04 m[A]=0000=0000
PC=0067 I=6874 A=6874 D=%04 m[A]=0000=0000
PC=0068 I=2065 A=2065 D=%04 m[A]=0000=0000
PC=0069 I=6552 A=6552 D=%04 m[A]=0000=0000
PC=006A I=7463 A=7463 D=%04 m[A]=0000=0000
PC=006B I=612E A=612E D=%04 m[A]=0000=0000
PC=006C I=6D73 A=6D73 D=%04 m[A]=0000=0000
PC=006D I=7020 A=7020 D=%04 m[A]=0000=0000
PC=006E I=6F72 A=6F72 D=%04 m[A]=0000=0000
PC=006F I=7267 A=7267 D=%04 m[A]=0000=0000
PC=0070 I=6D61 A=6D61 D=%04 m[A]=0000=0000
PC=0071 I=0D2E A=0D2E D=%04 m[A]=0000=0000
PC=0072 I=0D0A A=0D0A D=%04 m[A]=0000=0000
PC=0073 I=400A A=400A D=%04 m[A]=0000=0000
PC=0074 I=0D30 A=0D30 D=%04 m[A]=0000=0000
PC=0075 I=440A A=440A D=%04 m[A]=0000=0000
PC=0076 I=4D3D A=4D3D D=%04 m[A]=0000=0000
PC=0077 I=0A0D A=0A0D D=%04 m[A]=0000=0000
PC=0078 I=3240 A=3240 D=%04 m[A]=0000=0000
PC=0079 I=0D33 A=0D33 D=%04 m[A]=0000=0000
PC=007A I=440A A=440A D=%04 m[A]=0000=0000
PC=007B I=4A3B A=4A3B D=%04 m[A]=0000=0000
PC=007C I=454C A=454C D=%04 m[A]=0000=0000
PC=007D I=0A0D A=0A0D D=%04 m[A]=0000=0000
PC=007E I=3140 A=3140 D=%04 m[A]=0000=0000
PC=007F I=0D36 A=0D36 D=%04 m[A]=0000=0000
PC=0080 I=4D0A A=4D0A D=%04 m[A]=0000=0000
PC=0081 I=443D A=443D D=%04 m[A]=0000=0000
PC=0082 I=0A0D A=0A0D D=%04 m[A]=0000=0000
PC=0083 I=3140 A=3140 D=%04 m[A]=0000=0000
PC=0084 I=3336 A=3336 D=%04 m[A]=0000=0000
PC=0085 I=3438 A=3438 D=%04 m[A]=0000=0000
PC=0086 I=0A0D A=0A0D D=%04 m[A]=0000=0000
PC=0087 I=3D44 A=3D44 D=%04 m[A]=0000=0000
PC=0088 I=0D41 A=0D41 D=%04 m[A]=0000=0000
PC=0089 I=400A A=400A D=%04 m[A]=0000=0000
PC=008A I=3731 A=3731 D=%04 m[A]=0000=0000
PC=008B I=0A0D A=0A0D D=%04 m[A]=0000=0000
PC=008C I=3D4D A=3D4D D=%04 m[A]=0000=0000
PC=008D I=0D44 A=0D44 D=%04 m[A]=0000=0000
PC=008E I=400A A=400A D=%04 m[A]=0000=0000
PC=008F I=3731 A=3731 D=%04 m[A]=0000=0000
PC=0090 I=0A0D A=0A0D D=%04 m[A]=0000=0000
PC=0091 I=3D41 A=3D41 D=%04 m[A]=0000=0000
PC=0092 I=0D4D A=0D4D D=%04 m[A]=0000=0000
PC=0093 I=4D0A A=4D0A D=%04 m[A]=0000=0000
PC=0094 I=2D3D A=2D3D D=%04 m[A]=0000=0000
PC=0095 I=0D31 A=0D31 D=%04 m[A]=0000=0000
PC=0096 I=400A A=400A D=%04 m[A]=0000=0000
PC=0097 I=3731 A=3731 D=%04 m[A]=0000=0000
PC=0098 I=0A0D A=0A0D D=%04 m[A]=0000=0000
PC=0099 I=3D44 A=3D44 D=%04 m[A]=0000=0000
PC=009A I=0D4D A=0D4D D=%04 m[A]=0000=0000
PC=009B I=400A A=400A D=%04 m[A]=0000=0000
PC=009C I=3233 A=3233 D=%04 m[A]=0000=0000
PC=009D I=0A0D A=0A0D D=%04 m[A]=0000=0000
PC=009E I=3D44 A=3D44 D=%04 m[A]=0000=0000
PC=009F I=2B44 A=2B44 D=%04 m[A]=0000=0000
PC=00A0 I=0D41 A=0D41 D=%04 m[A]=0000=0000
PC=00A1 I=400A A=400A D=%04 m[A]=0000=0000
PC=00A2 I=3731 A=3731 D=%04 m[A]=0000=0000
PC=00A3 I=0A0D A=0A0D D=%04 m[A]=0000=0000
PC=00A4 I=3D4D A=3D4D D=%04 m[A]=0000=0000
PC=00A5 I=0D44 A=0D44 D=%04 m[A]=0000=0000
PC=00A6 I=400A A=400A D=%04 m[A]=0000=0000
PC=00A7 I=3631 A=3631 D=%04 m[A]=0000=0000
PC=00A8 I=0A0D A=0A0D D=%04 m[A]=0000=0000
PC=00A9 I=444D A=444D D=%04 m[A]=0000=0000
PC=00AA I=4D3D A=4D3D D=%04 m[A]=0000=0000
PC=00AB I=312D A=312D D=%04 m[A]=0000=0000
PC=00AC I=0A0D A=0A0D D=%04 m[A]=0000=0000
PC=00AD I=3140 A=3140 D=%04 m[A]=0000=0000
PC=00AE I=0D30 A=0D30 D=%04 m[A]=0000=0000
PC=00AF I=440A A=440A D=%04 m[A]=0000=0000
PC=00B0 I=4A3B A=4A3B D=%04 m[A]=0000=0000
PC=00B1 I=5447 A=5447 D=%04 m[A]=0000=0000
PC=00B2 I=0A0D A=0A0D D=%04 m[A]=0000=0000
PC=00B3 I=3240 A=3240 D=%04 m[A]=0000=0000
PC=00B4 I=0D33 A=0D33 D=%04 m[A]=0000=0000
PC=00B5 I=300A A=300A D=%04 m[A]=0000=0000
PC=00B6 I=4A3B A=4A3B D=%04 m[A]=0000=0000
PC=00B7 I=504D A=504D D=%04 m[A]=0000=0000
PC=00B8 I=0A0D A=0A0D D=%04 m[A]=0000=0000
exit program !
```
